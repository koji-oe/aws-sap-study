No,メモ
1,TransitGatewayAttachmentを作成する際はTransitGatewayIDが必要となる。
3,EKSはLambdaとAPIGatewayの組合せと比べると運用負荷が高い。
4,EFSのパフォーマンスモード変更は不可のため、作り直しが必要となる。
5,AWS生成型コスト配分タグはAWSによって自動的に割り当てられるタグでカスタマイズ不可。
6,"ACMはパブリックSSL証明書をエクスポートすることができない。
CloudFrontはオリジンにターゲットグループを指定できない。"
7,"OUにはデフォルトでFullAWSAccess SCPがアタッチされている。
またAWSフルマネージとのポリシーであるためポリシーの変更はできない。
デフォルトのFullAWSAccess SCPを削除することでホワイトリスト形式でのポリシーアタッチが可能となる。"
8,Organizationsの管理アカウントではすべてのアカウントのCost and Usage Reportを作成できる。
9,"以下手順で特定アカウントのプライベートホストゾーンによる名前解決を他アカウントのVPCで利用できる。
①プライベートホストゾーンを別アカウントのVPCに関連付ける許可を作成
②別アカウントでVPCをホストゾーンに関連付け。"
10,Sessions Managerを利用すると接続後の実行コマンドをS3とCloudWatchLogsに保管するよう設定できる。※特別なストリーム用途がなければS3が安価。
11,"オンプレミスアドレスを名前解決するにはRoute53 ResolverにオンプレミスのDNSサーバのIPアドレスを指定してアウトバウンドエンドポイントを作成する。
ResolverをResourceAccessManagerで共有することで組織内のすべてのアカウントのVPCからオンプレミスの名前解決を可能とする。"
12,"Application Discovery Agentはシステム設定、パフォーマンス、実行中プロセス、ネットワーク接続等の詳細情報を取得できる。
Migration Hubはアプリケーション別にサーバーをグループ分けする機能をもつ。また、移行計画に必要なコストやインスタンスタイプの情報を入手できる。"
13,"IAM Identity CenterはSAML2.0によるIDフェデレーションが可能。SAMLプロバイダーとしてActiveDirectoryをサポートしている。
System of Cross-domain Identity Management 2.0プロトコルの自動プロビジョニングを使用することでAWSとAD間でID情報の自動同期を行う。"
14,AWS CLIのupdate-aliasコマンドを使用することでrouting-configパラメータを使用して負荷分散してLambdaのカナリアリリースをすることができる。
15,Data Lifecycle Managerで取得したスナップショットはAWS管理のS3バケットに保管され、ユーザーが操作できない。
16,"Lambda関数ではハンドラーの外に記述されたコードはコールドスタートの一回だけ実行される。
そのためDB接続等の共通処理を記述しておくことで、同じインスタンスで実行される関数のパフォーマンスを向上させることができる。"
17,"AutoScalingグループに対してABANDONを送信すると、ライフサイクルを中断してインスタンスを終了する。
SNSからSystemsManagerのSendCommandを呼び出すことはできず、Lambda関数を経由する必要がある。"
18,"DataSyncはFSxと互換性がある。
FSxはWindowsに最適化されたファイルシステム。EFSはLinuxに最適化されている。"
20,S3 Intelligent-Tieringは参照頻度に応じて自動でストレージクラスを振り分けてコストを最適化してくれるが、月1で実行されるジョブが存在すると移行期間が短く、S3標準ストレージに比べてコスト効率が悪い。
21,"組織のルートに拒否リストのSCPが適用されている場合、新規組織を入れると拒否リストが適応されて事前に適切な設定を行ってから組織統合することができなくなる。
その場合は、以下のような手順を踏むとよい。
①一度ルートから下の階層(Production)に拒否リストSCPを退避
②拒否リストが適用されないOU(Onboarding)を用意
③適用されないOU(Onboarding)に新規組織を配置し、必要な設定を実施
④Production OUに新規組織を移動"
22,"S3はリージョン間のレプリケーション機能がある。
CloudFrontでオリジングループに複数S3バケットを設定しておくことで利用できなくなった際に自動で2番目のリージョンへルーティングされる。"
24,"DynamoDBでは各テーブルごとにRCU、WCUに対してApplication Auto Scalingを設定できる。
負荷が発生した場合にのみスケールアップが行われる。
負荷が予測できる場合はオンデマンドよりもコスト効率がよい。"
27,Auroraのライターに対してAuto Scalingは設定できない。
28,"カスタマーキーによるサーバー側暗号化はデフォルトの暗号化に設定できない。
強制するにはPutObject時にSSE-Cによる暗号化設定をしていない場合に拒否することで対応できる。"
29,ウェブホスティングを目的としてS3にリソースを配置する場合、Deep Archiveは即時に取り出せないため不適切。
33,API GatewayのREST APIはDynamoDBと直接統合が可能。
36,Lambdaの同時実行数制限を設定しても本番、テスト環境を維持できない。
39,Organizationsで組織を作成する際に選択できる機能セットは、「すべての機能」、「一括請求機能」のいずれかのみ。
40,"OrganizationsでCloudFormation Stack Setsを管理する場合はマスターアカウントで作成する必要がある。
Organizationsではアカウントに「サービス管理型権限」か「セルフサービス型権限」を適用できる。"
41,Global Acceleratorは最大10個のリージョンをまたいだフェイルオーバーをサポートする。Route53の方がコスト効率がよい。
42,エクスポネンシャルバックオフとはリトライ間隔を指数関数的に増加させることで一時的な障害発生時のシステム停止を不要とし、可用性を高める手法。
47,Lambdaは900秒の実行時間制約があるため長時間要する処理には不適切。
49,Transfer for SFTPはAWSのストレージサービスとのダイレクトなファイル転送を提供するサービス。
53,RDSにはグローバルテーブル機能はない。
54,"Resource Access Managerでプレフィックスリストを共有することで、複数アカウントでIPアドレス範囲を共有してセキュリティグループ等に適用できる。
プレフィックスリストはVPCの機能。"
60,DataSyncよりBackupの方が手動作業が少なく済む。
62,Lambdaは静的IPアドレスを割り当てられない。
63,NFSの転送にはDataSyncが適している。
64,SCTを利用して自動で変換できないスキーマを修正。DMSでデータ移行することで最小限のダウンタイムで移行を実現可能。
65,AppSyncはREST APIをサポートしない。
67,"クラスタープレイスメントグループは、AWS単一のアベイラビリティゾーンに配置される論理的なグループ。ネットワークパフォーマンスを向上させる。
パーティションプレイスメントグループは、ハードウェア障害を軽減する目的の論理グループ。
スプレッドプレイスメントグループは、単一障害点をなくす目的で異なる種類のハードウェアに配置される論理グループ。"
68,"SCPでは拒否はできるが許可はできない。許可にはIAMが必要。
DynamoDBではデータ取得クエリの実行ログは取得できないため監査目的には不適切。
S3セレクトは複数ファイルに対してクエリを実行できないため、複数ファイルを分析する場合はAthenaを利用するのが適切。"
69,RDS Proxyは書込みにも使える。
71,Swaps Environment URLsオプションを利用することでブルーグリーン環境のURLが交換される。
72,"Compute Savings Planは一貫したコンピューティング使用量を契約することでコスト最適化が可能。
Lambda、EC2、Fargateが対象となる。"
73,Storage Gatewayを使用する場合ホストするプラットフォームを構築する必要がある。
74,Service Catalogではポートフォリオと製品を作成し、OUを指定して共有することができる。製品はCloudFormationで定義し、ユーザーは最小権限で起動できる。
77,Auto ScalingグループはEC2のもの。
79,RDS ProxyはDBインスタンスをアクティブに監視し、クライアントからの接続を異常なDBインスタンスへ接続せずに正常なインスタンスへ自動接続する。また、アイドル状態のクライアント接続をドロップせずにフェイルオーバーで維持する。
82,すべてのリージョンに展開されているサービスへルーティングする場合GlobalAcceleratorで各リージョンのエンドポイントを束ねつつ正常稼働している環境へアクセスさせることが可能となる。
85,"ハイパフォーマンスコンピューティングクラスタは同一のAZに配置すべき。
Elastic Fabric AdapterはEC2に取り付けてHPCを高速化するためのネットワークデバイス。
Amazon FSx for Lustreは速度が重要なワークロードで使用する。"
86,"Glueにより多様なデータソースを一元化されたデータカタログで管理できる。
①Glueクローラーを使ってデータカタログにテーブルを投入。
②データフィードの形式に基づいてGlueクローラーとカスタム分類器を作成し、一致するようにテーブル定義を構築する。
③S3イベント通知→Lambda→Glue→S3"
95,TransitGatewayAttachmentにより、VPC間のアクセス制御が可能。
102,Redisはリーダーボード作成に推奨されるサービス。ソートセットにより少ない計算量でクエリを実行できる。
111,DMSを利用することで継続的なデータ移行が可能となる。
113,"ServerMigrationServiceはオンプレ仮想マシンの移行に利用するサービス。
MigrationPortfolioAssessmentはAWSへの移行にあたり、実現可能性、コスト、ツール、利用リソースなどを見積もるための支援ツール。"
115,STSではSAMLフェデレーション時に属性をセッションタグとして渡すことができる。セッションタグの要素とポリシーを照合し、基づいたアクセス許可や拒否を行うことができる。
117,"VPC Flow Logsはユーザーエージェント情報を含まない。
ALBのアクセスログはS3に保存されるため、Athenaで分析ができる。"
118,エッジ最適化APIエンドポイントは、最寄りのCloudFront POPにルーティングされるため、地理的に分散したクライアントへの接続時間を改善できる。また、キャッシュを有効化することでエンドポイントへの呼び出し数を減らすことができる。
119,BudgetsからSNSを呼び出すことができるため、一定額を超えた時点でSNSへ通知、SNSからLambdaを実行してサービスの停止等の操作ができる。
121,レートベースのルールを持つWeb ACLによりbotからのアクセスを拒否できる。
122,AD ConnectorではMFAを設定することができる。
131,"CloudFrontでX-Origin-Verifyに特定のカスタムヘッダを付与し、ALBで検証することでCloudFront経由のみを許可できる。
S3へのルーティングはOAIを用いるとよい。"
132,CloudFrontにはパスによってキャッシュ動作を変えるCache Behavior機能がある。
134,Snowballは物理デバイスで返送されたデータをS3に格納する。
137,"AppSyncにはサブスクリプション機能があり、リアルタイムに同期処理を実現することができる。
AppSyncはGraphQLもサポートしているため、単一のエンドポイントからあらゆるデータにアクセスできる。"
139,"Configでタグ付けツールを作成し、準拠しないリソースを検索できる。
Config アグリゲーターでは組織内の子アカウントで設定したConfigルールを集約し、一括管理できる。"
140,EC2のVM Importを利用することでVMエクスポートファイルからインスタンスとしてインポートできる。
142,Resource Access ManagerはVPCを共有できず、サブネットなら共有できる。
147,Auroraのリードレプリカは自動でフェイルオーバーされない。
148,DLMは別リージョンにコピーすることもできる。
151,"Systems Manager Parameter Storeでは自動ローテーションはサポートされていない。
AWS Shield AdvancedはDDOS攻撃に特化したサービス。"
155,DynamoDBにはSavings Plansは提供されていない。
156,"組織のIdPとAWSの信頼関係を構築するにはロールの信頼ポリシーでSAMLプロバイダーを設定する。
AWS STS AssumeRoleWithSAML APIがIDフェデレーションに必要となる。"
157,Transit Gateway内に追加のルートテーブルを作成し関連付けを変更できる。
158,AWS BackupはRPO、RTOを満たすために別途検討が必要。
159,複数値回答ルーティングポリシーはランダムに選ばれた最大8つのレコードを使用する。
161,"Compute Savings Planは一貫したコンピューティング使用量を契約することでコスト最適化が可能。
Lambda、EC2、Fargateが対象となる。"
162,"リクエスタ支払いバケットに関するアクセスはすべて認証される必要がある。
そのため、一般に公開する場合はリクエスタ支払い設定を削除する。"
163,"プライベートサブネット上でECSを起動する場合、ECRからコンテナイメージをプルするためにNATゲートウェイを設置すべき。
パブリックIPを割り当てるのはインターネット上からアクセス可能となるため非推奨。"
167,"S3 レプリケーションタイムコントロール(RTC)で以下をモニタリングできる。
・レプリケーションを保留しているS3 APIオペレーションの総数
・レプリケーションを保留しているオブジェクトの合計サイズ
・最大レプリケーション時間"
168,"ゲートウェイエンドポイントは、インターネットゲートウェイやNATを必要とせずにS3,DynamoDBへのアクセスを許可する。"
170,"DBインスタンスの拡張モニタリングを有効にすることでDBインスタンスが実行されているOSのリアルタイムメトリクスをモニタリングできる。
Performance Insights：RDSのパフォーマンス分析を可能とし、ボトルネックや遅延の原因を特定するのに役立つ。"
172,Service Catalogではポートフォリオと製品を作成し、提供することでポリシーの集中管理が可能となる。
173,Kinesis Data AnalyticsはSQLでストリーミングデータを処理、分析できる。
174,AWS Network FirewallはVPC向けのファイアウォール。
180,CloudFormationにLambda関数を参照するカスタムリソースを追加することで、スタック適用時にLambda関数を実行できる。
181,データごとに権限を制御する場合バケットを分けることが適切。
183,リソース作成に必要な権限をCloudFormationのサービスロールに適用し、ユーザーにはCloudFormationに関する権限のみ適用することで最小権限でスタックの作成が可能。
184,"S3 Transfer AccelerationはクライアントとS3バケットの間で長距離にわたるファイル転送を高速化する。
マルチパートアップロードと併用することでスループットの向上を図れる。"
192,S3のサーバアクセスログは同じアカウント、同じリージョン内のバケットにしか配信できない。
197,AWS Firewall ManagerはOrganizations内にあるアカウントとアプリケーション全体で一元的にファイアウォールルールを設定および管理できるようにするセキュリティ管理サービス。
199,"RDSのスナップショット復元には時間がかかるため、短時間での復旧には適さない。
リードレプリカの構築が適切。"
204,EC2のHost AffinityをHostに設定することで特定ホストで起動したインスタンスが常に同じインスタンスで起動される。
207,VPCのプライベートDNSオプションを有効にすることでインターフェースエンドポイントに割り当てられたDNS名を解決できるようになる。
211,"SQSはFIFOキューよりも標準キューの方がコスト効率が良い。
RDS Proxyを用いることでLambda処理の分散が可能。"
212,"EC2インスタンスにCloudWatchエージェントをインストールし、Compute Optimizerを有効にすることでリソースの最適化に関するレコメンデーションを生成できる。
初めて使用する際はリソースの分析に最大12時間要する。"
214,"S3 Intelligent-Tieringは30日間アクセスの無かったオブジェクトをより安価なストレージ階層に移動する。監視コストが発生するため、オブジェクト作成後の30日間はS3標準に保管するとよい。
S3 Glacierは3～5時間の復元時間が必要となる。S3 Glacier Deep Archiveは復元に最短でも12時間を要する。"
215,"Transit GatewayのVPCアタッチメントあたりの帯域幅は50GBpsとなる。
VPCピアリングは帯域無制限となる。"
219,"AWS Application Migration Serviceは最小限のダウンタイムでのリフト&シフト型の移行を実現する。
データは伝送中と静止中の両方で暗号化される。
ソースサーバーにエージェントのインストールが必要となる。"
220,"ファイルゲートウェイはオンプレミスのデータをS3に保存できるストレージサービス。
NFSおよびSMBプロトコルを使用してS3にファイルを保存できる。"
228,"Neptuneはセキュリティ上プライベートサブネットに配置することが望ましい。
プライベートサブネットにデプロイしたNeptuneデータベースへ接続するためにはVPC内にLambdaをデプロイする必要がある。"
231,S3をトリガーとしたGlueクローラー実行にはEventBridgeが必要となる。
233,KMSでオンプレのHSMで生成したキーマテリアルをCMKにインポートすることが可能。
234,Amazon MQはRabbitMQやApacheMQと互換性がある。
235,"CloudFrontはオリジンからレスポンスを受け取るまでに30秒以上かかる場合、HTTPステータスコード504(Gateway Timeout)エラーを返す。
CloudFrontとオリジン間でSSL/TLSハンドシェイクに問題がある場合、HTTPステータスコード504(Gateway Timeout)エラーやHTTPステータスコード502(Bad Gateway)エラーが発生する可能性がある。
WAFでリクエストがブロックされた場合は、HTTPステータスコード403(Forbidden)が発生する可能性がある。"
236,OrganizationAccountAccessRoleはOrganizationsでメンバーアカウントを作成した際にデフォルトで自動的に作成されるIAMロール。管理アカウントからスイッチルールする許可が設定されている。
239,S3とRedshift Spectrumの組合せは大規模なデータセットに対して最適化されているわけではなくパフォーマンスが十分でない可能性がある。
240,Storage Gatewayテープゲートウェイを使用するとRekognitionはファイルを読み取れない。
247,RDSは単一のリーダーエンドポイントをサポートしていない。
250,"Amazon VPC Traffic Mirroringはネットワークインターフェースレベルでの詳細なトラフィック分析を可能とする。
パケットレベルでのデータをキャプチャし、リバースエンジニアリング用のEC2インスタンスに転送できる。"
252,AWS Cloud Adoption Readiness Tool(CART)はクラウド導入の進捗状況を評価し、組織のスキルとプロセスのギャップを特定する。
254,"サブネットのアドレス空間を更新することはできない。
変更したい場合は再作成が必要となる。"
256,TagEditorを使用して既存リソースにタグ付けができる。また、SCPで特定のタグ付けがないリソース作成を制限することができる。
257,OpenSearchはCloudWatchとKinesis Data Firehoseと組み合わせて利用することで効率的にデータ分析が可能となる。
